{"version":3,"sources":["../../src/test/require.js"],"names":["test","require","niv","clean","install","then","csjs","t","assert","end","err","pkg","addNumbers","destination","packageJson","name"],"mappings":";;;;AAAA,IAAMA,OAAOC,QAAQ,MAAR,CAAb;;AAEA,IAAMC,MAAMD,QAAQ,aAAR,CAAZ;;eACkBA,QAAQ,gBAAR,C;IAAVE,K,YAAAA,K;;AAERH,KAAK,oBAAL,EAA2B,aAAK;AAC9BG;AACAD,MAAIE,OAAJ,CAAY,YAAZ,EAA0BC,IAA1B,CAA+B,YAAM;AACnC,QAAMC,OAAOJ,IAAID,OAAJ,CAAY,YAAZ,CAAb;AACAM,MAAEC,MAAF,QAAgBF,IAAhB,yCAAgBA,IAAhB,GAAsB,UAAtB;AACAC,MAAEE,GAAF;AACD,GAJD,EAIG;AAAA,WAAOF,EAAEE,GAAF,CAAMC,GAAN,CAAP;AAAA,GAJH;AAKD,CAPD;;AASAV,KAAK,oBAAL,EAA2B,aAAK;AAC9BG;AACAD,MAAIE,OAAJ,CAAY,8CAAZ,EAA4DC,IAA5D,CAAiE,YAAM;AACrE,QAAMC,OAAOJ,IAAID,OAAJ,CAAY,8CAAZ,CAAb;AACAM,MAAEC,MAAF,QAAgBF,IAAhB,yCAAgBA,IAAhB,GAAsB,UAAtB;AACAC,MAAEE,GAAF;AACD,GAJD,EAIG;AAAA,WAAOF,EAAEE,GAAF,CAAMC,GAAN,CAAP;AAAA,GAJH;AAKD,CAPD;;AASAV,KAAK,oBAAL,EAA2B,aAAK;AAC9BG;AACAD,MAAIE,OAAJ,CAAY,oCAAZ,EAAkDC,IAAlD,CAAuD,YAAM;AAC3D,QAAMM,MAAMT,IAAID,OAAJ,CAAY,oCAAZ,CAAZ;AACAM,MAAEC,MAAF,SAAgBG,IAAIC,UAApB,GAAgC,UAAhC;AACAL,MAAEE,GAAF;AACD,GAJD,EAIG;AAAA,WAAOF,EAAEE,GAAF,CAAMC,GAAN,CAAP;AAAA,GAJH;AAKD,CAPD;;AASAV,KAAK,4BAAL,EAAmC,aAAK;AACtCG;AACAD,MAAIE,OAAJ,CAAY,8CAAZ,EAA4D,EAAES,aAAa,WAAf,EAA5D,EAA0FR,IAA1F,CAA+F,YAAM;AACnG,QAAMC,OAAOJ,IAAID,OAAJ,CAAY,WAAZ,CAAb;AACAM,MAAEC,MAAF,QAAgBF,IAAhB,yCAAgBA,IAAhB,GAAsB,UAAtB;AACAC,MAAEE,GAAF;AACD,GAJD,EAIG;AAAA,WAAOF,EAAEE,GAAF,CAAMC,GAAN,CAAP;AAAA,GAJH;AAKD,CAPD;;AASAV,KAAK,kBAAL,EAAyB,aAAK;AAC5BG;AACAD,MAAIE,OAAJ,CAAY,oCAAZ,EAAkDC,IAAlD,CAAuD,YAAM;AAC3D,QAAMS,cAAcZ,IAAID,OAAJ,CAAY,oCAAZ,EAAkD,cAAlD,CAApB;AACAM,MAAEC,MAAF,CAASM,YAAYC,IAAZ,GAAmB,8BAA5B;AACAR,MAAEE,GAAF;AACD,GAJD,EAIG;AAAA,WAAOF,EAAEE,GAAF,CAAMC,GAAN,CAAP;AAAA,GAJH;AAKD,CAPD","file":"require.js","sourcesContent":["const test = require('tape');\n\nconst niv = require('../index.js');\nconst { clean } = require('./test-util.js');\n\ntest('niv.require normal', t => {\n  clean();\n  niv.install('csjs@1.0.0').then(() => {\n    const csjs = niv.require('csjs@1.0.0');\n    t.assert(typeof csjs, 'function');\n    t.end();\n  }, err => t.end(err));\n});\n\ntest('niv.require remote', t => {\n  clean();\n  niv.install('scott113341/csjs#extract-extends-performance').then(() => {\n    const csjs = niv.require('scott113341/csjs#extract-extends-performance');\n    t.assert(typeof csjs, 'function');\n    t.end();\n  }, err => t.end(err));\n});\n\ntest('niv.require scoped', t => {\n  clean();\n  niv.install('@scott113341/niv-scoped-test@1.0.0').then(() => {\n    const pkg = niv.require('@scott113341/niv-scoped-test@1.0.0');\n    t.assert(typeof pkg.addNumbers, 'function');\n    t.end();\n  }, err => t.end(err));\n});\n\ntest('niv.require w/ destination', t => {\n  clean();\n  niv.install('scott113341/csjs#extract-extends-performance', { destination: 'csjs@yolo' }).then(() => {\n    const csjs = niv.require('csjs@yolo');\n    t.assert(typeof csjs, 'function');\n    t.end();\n  }, err => t.end(err));\n});\n\ntest('niv.require path', t => {\n  clean();\n  niv.install('@scott113341/niv-scoped-test@1.0.0').then(() => {\n    const packageJson = niv.require('@scott113341/niv-scoped-test@1.0.0', \"package.json\");\n    t.assert(packageJson.name = '@scott113341/niv-scoped-test');\n    t.end();\n  }, err => t.end(err));\n});\n"]}